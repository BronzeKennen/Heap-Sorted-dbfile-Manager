### Heap database file reader

#Σωτήρης Σκανδάλης - 1115202000181
#Άρης Μπουτσιαράκος - 1115202000146
#Χρήστος Παπαδόπουλος - 1115202000165


Για την δημιουργία του εκτελέσιμου:
	make hp;

Για να τρέξετε το εκτελέσιμο:
	./build/hp_main


Ορίσαμε τις δομές που φυλάσσουν τα μεταδεδομένα ως εξής: 
	- Η δομή HP_info περιέχει τον τύπο του αρχείου και το αναγνωριστικό του τελευταίου μπλοκ του αρχείου.
	- Η δομή HP_block_info περιέχει τον αριθμό εγγραφών του συγκεκριμένου μπλοκ 
	και έναν δείκτη στο επόμενο μπλοκ του αρχείου.

Ορίσαμε επίσης μια σταθερά RECORDS_PER_BLOCK ως τον αριθμό εγγραγών που χωράει ένα μπλοκ.

## HP_CreateFile
Η συνάρτηση HP_CreateFile δημιουργεί το αρχείο σωρού δημιουργώντας το πρώτο block του και 
αρχικοποιώντας το ως το HP_info block που θα αποθηκεύει τα μεταδεδομένα της δομής.
Το block τίθεται ως dirty και ξεκαρφιτσώνεται ώστε να γραφεί στο δίσκο.
Σε περίπτωση σφάλματος τυπώνεται το αντίστοιχο BF_ErrorCode ή επιστρέφεται -1.
Αλλιώς επιστρέφεται 0.

## HP_OpenFile
Η συνάρτηση HP_OpenFile ανοίγει το αρχείο ώστε να είναι έτοιμο για χρήση και καρφιτσώνει στη μνήμη 
το HP_info block του αρχείου ώστε να μπορούμε να το ανανεώνουμε κατά την επεξεργασία των εγγραφών.

## HP_CloseFile
Η HP_CloseFile, αντίστοιχα, κλείνει το αρχείο ξεκαρφιτσώνοντας όλα τα μπλοκ από την ενδιάμεση μνήμη.
Σε περίπτωση σφάλματος επιστρέφει -1, αλλιώς  0. 

## HP_InsertEntry
Η HP_InsertEntry εισάγει μια εγγραφή στο τέλος του αρχείου. Αν το τελευταίο μπλοκ είναι γεμάτο ή 
το αρχείο περιέχει μόνο το μπλοκ των μεταδεδομένων, δημιουργεί ένα νέο μπλοκ και κάνει το παλιό τελευταίο 
μπλοκ να δείχνει σε αυτό. Ύστερα, εισάγει την εγγραφή στο τελευταίο μπλοκ και ανανεώνει τα μεταδεδομένα του.
Αν η εισαγωγή ήταν επιτυχής επιστρέφεται το αναγνωριστικό του μπλοκ, το οποίο είναι πάντα το τελευταίο id.
Αλλιώς σε περίπτωση αποτυχίας επιστρέφεται -1.

## HP_GetAllEntries
H HP_GetAllEntries εκτυπώνει όλες τις εγγραφές που έχουν ένα συγκεκριμένο κλειδί.
Σε περίπτωση λάθους κατά την προσπέλαση των blocks επιστρέφεται -1.
Αλλιώς επιστρέφεται ο αριθμός των blocks που διαβάστηκαν κατά την αναζήτηση των εγγραφών, 
ο οποίος θα είναι πάντα ίσος με τον συνολικό αριθμό των blocks του αρχείου καθώς δεν υπάρχει ταξινόμηση 
οπότε απαιτείται να ελεγχθεί όλο το αρχείο.


Τέλος, ορίσαμε και μια βοηθητική συνάρτηση getBlockInfo η οποία επιστρέφει το μπλοκ μεταδεδομένων ενός δωσμένου μπλοκ.
